# Efficiency Protocol (효율 경영 프로토콜)

## 1. 개요

97LAYER OS의 지속 가능한 운영을 위해 모델 할당량(Model Quota) 소모를 최소화하고 지능적 연산을 극대화하는 운영 원칙을 정의한다.

## 2. 핵심 원칙

### A. Discard by Default (선별적 독서)

* 에이전트는 모든 파일을 처음부터 끝까지 읽지 않는다.
* **파일 정보 스위칭**: 파일 전체를 열기 전 `ls -la`나 `view_file_outline`을 통해 구조와 메타데이터를 먼저 파악한다.
* **키워드 필터링**: 질문과 직접 연관된 키워드가 없는 구역은 무시한다.

### B. Snippet-First (조각 중심 연산)

* 전체 문서를 LLM에 던지는 대신, 질문에 대답하는 데 필요한 **핵심 행/단락(Snippet)**만 추출하여 컨텍스트로 사용한다.
* RAG-lite 구조를 지향하며, 한 번의 호출에 1,000 토큰 이상의 불필요한 데이터를 포함하지 않는다.

### C. Cache Hits First (지능적 재사용)

* **로컬 캐시 우선**: 동일한 요청은 API를 호출하지 않고 `.tmp/ai_cache/`에서 즉각 반환한다.
* **기억의 압축**: 과거 대화 내역은 그대로 보존하지 않고, 에이전트가 주기적으로 핵심 사건 위주로 요약(Chronicle)하여 관리한다.

## 3. 실행 지침

1. **AIEngine**: 모든 호출에 대해 MD5 해시 기반 캐시를 확인한다.
2. **MemoryManager**: 대화 내역 로드 시 `limit=10`을 준수하며, 필요 시 요약본만 제공한다.
3. **Synapse**: 의사 결정 과정에서 중복된 논의가 발생하지 않도록 이전 결론을 먼저 참조한다.
