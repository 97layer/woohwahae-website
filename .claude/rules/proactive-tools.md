# 능동적 도구 활용 규칙

globs: **

## 원칙

도구는 유저가 요청할 때만 쓰는 게 아니라, **상황이 요구할 때 먼저 쓴다.**

## 도구별 트리거

### sequential-thinking (구조적 사고)

**반드시 사용**:
- 3개 이상의 선택지 중 트레이드오프 분석이 필요할 때
- 파일 삭제/흡수/통합 등 비가역적 구조 변경 전
- 유저의 질문이 "~하는 게 낫지 않나?"처럼 판단을 요구할 때
- 기존 설계를 뒤집는 제안을 할 때

**사용 금지**: 단순 실행, 명확한 지시, 이미 결론이 난 작업

### context7 (라이브러리 문서)

**반드시 사용**:
- 외부 라이브러리/프레임워크의 API를 코드에서 사용할 때
- "이 라이브러리가 이걸 지원하나?" 질문에 답할 때
- 버전별 차이가 중요한 코드 수정 시

### notebooklm (지식 베이스)

**반드시 사용**:
- 유저가 등록한 노트북이 현재 작업과 관련될 때
- 브랜드 철학/콘텐츠 방향성에 대한 깊은 맥락이 필요할 때

**사용 전**: list_notebooks로 관련 노트북 존재 확인

### claude-mem (과거 세션 기억)

**반드시 사용**:
- "이전에 이거 했었나?" 류의 질문
- 같은 실수를 반복하고 있다는 의심이 들 때
- 과거 결정의 근거를 찾아야 할 때

**사용 전**: search(query)로 관련 기록 존재 확인

## 선제 스캔 규칙 (PROACTIVE SCAN)

작업 시작 전 아래를 자동 스캔:

1. **구조적 비효율**: 파일명 혼재, 죽은 참조, 중복 문서
   → session-start.sh의 structure_audit.py가 자동 실행
   → 이슈 발견 시 작업 전에 먼저 보고

2. **기술 부채**: 코드-문서 불일치, 레거시 경로, 미구현 TODO
   → 작업 중 발견 시 중간 인터럽트로 보고

3. **더 나은 방법**: 유저가 요청한 방식보다 효율적인 대안이 있을 때
   → 실행 전에 대안 제시. 유저가 거부하면 원안 실행.

## 금지

- 도구를 써야 하는 상황에서 "직관"으로 답하기
- sequential-thinking 없이 복잡한 구조 변경 결정
- 과거에 같은 문제를 풀었는지 확인하지 않고 처음부터 다시 풀기
