#!/bin/bash
# session-start hook â€” ì„¸ì…˜ ì‹œì‘ ì‹œ uncommitted íŒŒì¼ ê²½ê³ 

echo "â”â”â” SESSION START CHECK â”â”â”"

# Uncommitted íŒŒì¼ ì²´í¬
UNCOMMITTED=$(git status --porcelain | wc -l | xargs)
if [ "$UNCOMMITTED" -gt 0 ]; then
    echo "âš ï¸  WARNING: $UNCOMMITTED uncommitted files found!"
    echo "ì£¼ìš” ë³€ê²½ì‚¬í•­:"
    git status --porcelain | head -5
    echo ""
    echo "ì¡°ì¹˜ í•„ìš”:"
    echo "1. ì˜ë¯¸ ìˆìœ¼ë©´: git add . && git commit"
    echo "2. ì“°ë ˆê¸°ë©´: git checkout -- ."
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
fi

# Web Lock ìƒíƒœ ì²´í¬
if [ -f "knowledge/system/web_work_lock.json" ]; then
    echo "ğŸ”’ ì›¹ ì‘ì—… ì ê¸ˆ ìƒíƒœ:"
    cat knowledge/system/web_work_lock.json | grep -E '"agent"|"task"'
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
fi

# ë¯¸ì™„ì„± Todo ì²´í¬ (ìˆìœ¼ë©´)
# TODO: TodoWrite ì‹œìŠ¤í…œê³¼ ì—°ë™ í•„ìš”

exit 0