<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta description="Playlist — WOOHWAHAE. A curated ambient soundscape for profound focus." />
    <title>Atmosphere — WOOHWAHAE</title>
    <meta content="#E3E2E0" name="theme-color" />
    <link href="assets/media/brand/symbol.png" rel="icon" type="image/png" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="assets/css/style.css?v=v19-blueprint" rel="stylesheet" />

    <!-- UI Enhancement Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://unpkg.com/lenis@1.1.20/dist/lenis.min.js"></script>
    <style>
        .playlist-hero {
            height: 100dvh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            z-index: 10;
        }

        .audio-status {
            font-family: var(--font-mono);
            font-size: 0.65rem;
            letter-spacing: 0.15em;
            color: var(--text-faint);
            margin-top: var(--space-lg);
            text-transform: uppercase;
            opacity: 0;
            transition: opacity 1s ease;
        }

        .audio-status.is-visible {
            opacity: 1;
        }

        .play-trigger {
            background: none;
            border: 1px solid var(--line);
            padding: var(--space-md) var(--space-xl);
            font-family: var(--font-mono);
            font-size: 0.75rem;
            color: var(--text);
            cursor: pointer;
            transition: all 0.6s var(--ease);
            position: relative;
            overflow: hidden;
        }

        .play-trigger:hover {
            border-color: var(--text);
            letter-spacing: 0.2em;
        }

        .play-trigger.is-playing {
            background: var(--text);
            color: var(--bg);
            border-color: var(--text);
        }
    </style>
</head>

<body class="page-playlist">

    <!-- COMPONENT:nav -->
    <nav class="site-nav" id="site-nav">
        <a class="nav-brand" href="/" aria-label="WOOHWAHAE">
            <img class="nav-symbol" src="/assets/media/brand/symbol.png" alt="WOOHWAHAE">
        </a>
        <div class="nav-links-wrapper">
            <ul class="nav-links" id="nav-links">
                <li><a href="/archive/">Archive</a></li>
                <li><a href="/practice/">Practice</a></li>
                <li><a href="/lab/">Lab</a></li>
                <li><a href="/about/">About</a></li>
            </ul>
            <button class="nav-toggle" id="nav-toggle" aria-label="Menu" aria-expanded="false">
                <span></span><span></span>
            </button>
        </div>
    </nav>
    <div class="nav-overlay" id="nav-overlay">
        <nav class="nav-overlay__content">
            <a href="/archive/">Archive</a>
            <a href="/practice/">Practice</a>
            <a href="/lab/">Lab</a>
            <a href="/about/">About</a>
        </nav>
    </div>

    <div class="wave-bg" aria-hidden="true">
        <svg viewBox="0 0 800 800">
            <g fill="none" stroke="var(--line)" stroke-width="0.5">
                <circle cx="400" cy="400" r="60">
                    <animate attributeName="r" values="60;72;60" dur="var(--breath)" begin="0s"
                        repeatCount="indefinite" />
                    <animate attributeName="opacity" values="0.3;0.1;0.3" dur="var(--breath)" begin="0s"
                        repeatCount="indefinite" />
                </circle>
                <circle cx="400" cy="400" r="160">
                    <animate attributeName="r" values="160;185;160" dur="var(--breath)" begin="1s"
                        repeatCount="indefinite" />
                    <animate attributeName="opacity" values="0.2;0.05;0.2" dur="var(--breath)" begin="1s"
                        repeatCount="indefinite" />
                </circle>
                <circle cx="400" cy="400" r="300">
                    <animate attributeName="r" values="300;340;300" dur="var(--breath)" begin="2s"
                        repeatCount="indefinite" />
                    <animate attributeName="opacity" values="0.1;0.02;0.1" dur="var(--breath)" begin="2s"
                        repeatCount="indefinite" />
                </circle>
            </g>
        </svg>
    </div>

    <main class="playlist-hero">
        <span class="section-label" data-reveal>AMBIENT SOUNDSCAPE</span>
        <h1 class="longform-title" data-reveal style="margin-bottom: var(--space-md);">Atmosphere</h1>
        <button class="play-trigger" id="playBtn" data-reveal>ENTER SILENCE</button>
        <div class="audio-status" id="audioStatus">Resonate with the 3.8s breath cycle.</div>
    </main>

    <footer class="site-footer">
        <div class="footer-inner">
            <div class="footer-grid">
                <div class="footer-col" data-reveal>
                    <p class="footer-brand">WOOHWAHAE</p>
                    <span class="footer-label">Navigation</span>
                    <nav class="footer-nav">
                        <a href="/archive/">Archive</a>
                        <a href="/practice/">Practice</a>
                        <a href="/lab/">Lab</a>
                        <a href="/about/">About</a>
                    </nav>
                </div>
                <div class="footer-col" data-reveal>
                    <span class="footer-label">Contact</span>
                    <nav class="footer-nav">
                        <a href="mailto:hello@woohwahae.kr">Email</a>
                        <a href="https://instagram.com/woohwahae" target="_blank" rel="noopener">Instagram</a>
                    </nav>
                </div>
                <div class="footer-col" data-reveal>
                    <span class="footer-label">Location</span>
                    <p class="footer-copy">ULSAN / KR</p>
                </div>
            </div>
            <p class="footer-copy" style="margin-top: var(--space-xl); text-align: center; opacity: 0.3;">&copy; 2026
                WOOHWAHAE</p>
        </div>
    </footer>

    <script src="assets/js/site.js" defer></script>
    <script src="assets/js/interaction.js" defer></script>
    <script>
        let audioCtx, mainGain, oscillators = [], isPlaying = false;

        const playBtn = document.getElementById('playBtn');
        const statusText = document.getElementById('audioStatus');

        function initAudio() {
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            mainGain = audioCtx.createGain();
            mainGain.gain.value = 0;
            mainGain.connect(audioCtx.destination);

            // A Meditative Chord
            const frequencies = [110, 130.81, 164.81, 246.94];
            frequencies.forEach((freq, i) => {
                const osc = audioCtx.createOscillator();
                osc.type = 'sine';
                osc.frequency.value = freq;

                const lfo = audioCtx.createOscillator();
                lfo.type = 'sine';
                lfo.frequency.value = 0.05 + (i * 0.02);

                const lfoGain = audioCtx.createGain();
                lfoGain.gain.value = 2;

                lfo.connect(lfoGain);
                lfoGain.connect(osc.frequency);

                const oscGain = audioCtx.createGain();
                oscGain.gain.value = 0.15;

                osc.connect(oscGain);
                oscGain.connect(mainGain);

                osc.start();
                lfo.start();
            });
        }

        playBtn.addEventListener('click', () => {
            if (!audioCtx) initAudio();
            if (audioCtx.state === 'suspended') audioCtx.resume();

            const now = audioCtx.currentTime;
            if (isPlaying) {
                mainGain.gain.linearRampToValueAtTime(0.001, now + 2);
                playBtn.textContent = 'ENTER SILENCE';
                playBtn.classList.remove('is-playing');
                statusText.classList.remove('is-visible');
                isPlaying = false;
            } else {
                mainGain.gain.linearRampToValueAtTime(0.4, now + 4);
                playBtn.textContent = 'LEAVE SILENCE';
                playBtn.classList.add('is-playing');
                statusText.classList.add('is-visible');
                isPlaying = true;
            }
        });
    </script>
</body>

</html>