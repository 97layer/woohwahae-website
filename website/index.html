<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="WOOHWAHAE — Archive for Slow Life. 가속화된 세상에서 주체적으로 살아가기 위한 생각과 실천의 아카이브.">
  <meta property="og:title" content="WOOHWAHAE">
  <meta property="og:description" content="Archive for Slow Life">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://woohwahae.kr/">
  <meta property="og:image" content="https://woohwahae.kr/assets/img/symbol.jpg">
  <title>WOOHWAHAE</title>
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#F0EFEB">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link rel="apple-touch-icon" href="/assets/img/icon-192.png">
  <link rel="icon" href="assets/img/symbol.png" type="image/svg+xml">
  <link rel="preload" href="assets/css/style.css?v=renewal_v3" as="style">
  <link rel="stylesheet" href="assets/css/style.css?v=renewal_v3">
  <script src="assets/js/analytics.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
</head>

<body class="home-radical">

  <!-- 전체 페이지 배경 필드 캔버스 — fixed, z=0 -->
  <canvas id="field-bg" class="field-bg-canvas"></canvas>

  <!-- Nav — 최소화, 투명 배경 -->
  <nav>
    <a href="/" class="nav-logo">
      <img src="assets/img/symbol.png" class="nav-symbol" alt="WOOHWAHAE">
    </a>
    <ul class="nav-links">
      <li><a href="archive/">Archive</a></li>
      <li><a href="offering.html">Offering</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
    <button class="nav-lang-toggle" id="lang-toggle" aria-label="Toggle Language">EN</button>
    <button class="nav-toggle" aria-label="Menu">
      <span></span><span></span><span></span>
    </button>
  </nav>

  <!-- 단일 스크롤 공간 — 섹션 없음, 텍스트 블록만 -->
  <main class="field-main">

    <!-- Block 0: 브랜드 — 화면 중앙 하단 -->
    <div class="fb fb--brand">
      <p class="fb-statement">Archive for Slow Life.</p>
      <p class="fb-brand">WOOHWAHAE</p>
    </div>

    <!-- Block 1: 우화 -->
    <div class="fb fb--uwh">
      <p class="fb-label">우화(羽化)</p>
      <p class="fb-ko">번데기가 나비가 되는 과정.<br>각자의 속도로, 내면의 美를 성찰하며.</p>
    </div>

    <!-- Block 3: 최신 에세이 -->
    <div class="fb fb--essay">
      <a href="#" class="fb-essay-link" id="featured-article">
        <span class="fb-essay-meta">
          <span id="featured-issue">—</span>
          <span class="fb-essay-sep">·</span>
          <span id="featured-date">—</span>
        </span>
        <strong class="fb-essay-title" id="featured-title"></strong>
      </a>
    </div>

    <!-- Block 4: 하단 링크 -->
    <div class="fb fb--nav">
      <a href="archive/">Archive</a>
      <a href="offering.html">Offering</a>
      <a href="about.html">About</a>
    </div>

  </main>

  <!-- Footer -->
  <footer class="section--light">
    <div class="footer-inner">
      <div class="footer-brand-row">
        <p class="footer-brand-name">WOOHWAHAE</p>
      </div>
      <div class="footer-nav-row">
        <a href="archive/">Archive</a>
        <a href="offering.html">Offering</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
        <a href="lab/">Lab</a>
      </div>
      <div class="footer-connect-row">
        <a href="https://instagram.com/woohwahae" target="_blank" rel="noopener">@woohwahae</a>
        <a href="https://instagram.com/woosunhokr" target="_blank" rel="noopener">@woosunhokr</a>
        <a href="https://map.naver.com/p/entry/place/1017153611?lng=129.3497445&lat=35.5592547&placePath=/stylist" target="_blank" rel="noopener">Booking</a>
        <a href="mailto:hello@woohwahae.kr">Email</a>
      </div>
      <div class="footer-bottom">
        <p class="footer-bottom-copy">&copy; 2024 WOOHWAHAE. All rights reserved.</p>
        <div class="footer-legal">
          <a href="privacy.html">Privacy</a>
          <a href="terms.html">Terms</a>
        </div>
      </div>
    </div>
  </footer>

  <script src="assets/js/bg-field.js" defer></script>
  <script src="assets/js/main.js"></script>
  <script>
    /* ─── Featured Article 로드 ─── */
    fetch('archive/index.json')
      .then(function(r) { return r.json(); })
      .then(function(posts) {
        if (!posts || !posts.length) return;
        var post = posts[0];
        var link = document.getElementById('featured-article');
        var issueNum = post.issue ? post.issue.replace('Issue ', '') : '00';
        link.href = 'archive/' + post.slug + '/';
        document.getElementById('featured-issue').textContent = 'ISSUE ' + issueNum;
        document.getElementById('featured-date').textContent   = post.date;
        document.getElementById('featured-title').textContent  = post.title;
        setTimeout(function() { link.classList.add('visible'); }, 200);
      })
      .catch(function() {
        var blk = document.querySelector('.fb--essay');
        if (blk) blk.style.display = 'none';
      });

    /* ─── FB 블록 스크롤 reveal ─── */
    (function () {
      var blocks = Array.from(document.querySelectorAll('.fb'));
      var activeIdx = -1;

      function updateActive() {
        var fieldMain = document.querySelector('.field-main');
        if (!fieldMain) return;
        var vh = window.innerHeight;
        var total = fieldMain.offsetHeight - vh;
        var sy = Math.max(0, window.scrollY);
        var n = blocks.length;
        var segH = total / n;
        var idx = Math.min(Math.floor(sy / segH), n - 1);

        if (idx === activeIdx) return; /* 변화 없으면 skip */
        activeIdx = idx;

        blocks.forEach(function (b, i) {
          var shouldShow = (i === idx) || (i === 0); /* brand 항상 */
          if (shouldShow) {
            b.classList.add('fb--visible');
          } else {
            b.classList.remove('fb--visible');
          }
        });

        /* essay-link */
        var essayLink = document.getElementById('featured-article');
        if (essayLink) {
          var essayBlock = document.querySelector('.fb--essay');
          var essayIdx = blocks.indexOf(essayBlock);
          if (idx === essayIdx) essayLink.classList.add('visible');
        }
      }

      window.addEventListener('scroll', updateActive, { passive: true });
      window.addEventListener('resize', updateActive);
      updateActive();
    })();
  </script>

</body>

</html>
