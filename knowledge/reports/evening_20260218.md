---
type: evening-report
created: 2026-02-18
status: verified
tags: [시스템진단, 구조분석]
---

# 97LAYER 시스템 구조 정밀 진단 보고서

## 1. 총평: "미완의 하이브리드, 혹은 정체성 혼란"

현재 LAYER OS라 명명된 이 시스템은 '운영체제(OS)'라기보다 **"파편화된 스크립트와 정적 자산의 집합체"**에 가깝습니다.
`WEBSITE_STRUCTURE.md`에서 지향하는 "Magazine B 스타일의 고품질 콘텐츠 플랫폼"과 `deploy_light.sh`가 보여주는 "임시방편적 배포 파이프라인" 사이에는 심각한 괴리가 존재합니다.

## 2. 구조적 결함 분석

### A. 정체성 분열 (Identity Schism)

- **설계**: `WEBSITE_STRUCTURE.md`는 **GitHub Pages 기반의 정적 호스팅**을 1차 목표로 명시하고 있습니다. (Line 231)
- **구현**: 실제 `deploy_light.sh`는 소스를 VM으로 전송해 **Docker 컨테이너를 직접 빌드**하는 방식입니다. (Line 66)
- **문제점**: 정적 사이트의 강점(속도, 비용 0, 무중단)을 버리고, 동적 서버의 단점(관리 비용, 리소스 제약, 빌드 시간)을 선택했습니다. 콘텐츠가 HTML 파일에 하드코딩 되어 있으면서 굳이 Docker로 띄우는 구조는 **비효율의 극치**입니다.

### B. 배포 파이프라인의 취약성 (Deployment Fragility)

- **Local to Prod**: 로컬에서 `scp`로 소스를 던지고 프로덕션 서버에서 `build`를 수행합니다. (`deploy_light.sh`)
- **Stateful Snowflake**: VM 내부 상태에 의존적입니다. 스크립트가 `website/assets/img`를 제외(`exclude`)하고 전송하므로, 서버에 이미지가 미리 존재하지 않으면 **"이미지 없는 매거진"**이 배포됩니다.
- **Resource Starvation**: `e2-micro`급 VM에서 순차 빌드(`sequential build`)를 해야 할 정도로 리소스가 부족합니다. 이는 트래픽이 조금만 몰려도 서비스가 중단될 것임을 예고합니다.

### C. 데이터 무결성 부재

- **시스템 vs 리포트**: `SYSTEM_ENFORCEMENT_REPORT.md`가 IDE에는 보이고 OS에는 안 보이는 현상은, 개발 환경(컨테이너/마운트)의 **동기화가 깨져있음**을 증명합니다.
- **하드코딩된 콘텐츠**: Issue 아티클들이 DB가 아닌 개별 HTML 파일로 존재합니다. 이는 '아카이브'가 커질수록 유지보수 비용이 기하급수적으로 증가함을 의미합니다. (`issue-00` 수정 시 모든 파일을 열어야 했던 상황이 이를 증명합니다.)

### D. 코드 품질 관점

- **Atelier vs Factory**: 웹사이트의 겉모습(CSS/Design)은 '아틀리에'를 지향하나, 내부 코드(HTML 구조, 인라인 스타일, 린트 에러)는 '정돈되지 않은 공장' 같습니다.
- **Legacy Patchwork**: `cockpit.html`의 공백 문제나 `apple-touch-icon` 경로 문제는 체계적인 컴포넌트 시스템 없이 "그때그때 떄려 넣은" 결과물입니다.

## 3. 핵심 리스크 (Critical Risks)

1. **배포 중단 위협**: 프로덕션 서버에서의 빌드는 언젠가(반드시) 메모리 부족으로 실패합니다. -> **서비스 불능(Downtime) 직결**
2. **데이터 손실**: 서버의 파일 시스템에 의존하는 구조(이미지 등)는 서버 교체 시 모든 데이터를 잃게 만듭니다.
3. **확장 불가**: 현재 구조로는 `Issue 100`까지 발행할 경우 관리 비용이 감당 불가능 수준에 도달합니다.

## 4. 제언 (Recommendations)

### Phase 1: 정체성 확립 (즉시)

- **결단**: **Static(GitHub Pages/Vercel)**으로 갈 것인가, **Dynamic(Docker/VM)**으로 갈 것인가.
- **권고**: 현재 콘텐츠 구조라면 **Static Hosting(Vercel/Netlify)**이 압도적으로 유리합니다. Docker와 오케스트레이션은 과유불급(Over-engineering)입니다.

### Phase 2: 파이프라인 정상화

- **CI/CD 도입**: GitHub Actions를 통해 빌드하고, 아티팩트(결과물)만 서버로 전송하십시오.
- **Immutable Infrastructure**: 서버(VM)는 언제든 삭제하고 다시 띄워도 똑같이 동작해야 합니다. (이미지 등 자산의 S3/R2 분리)

### Phase 3: 콘텐츠 엔진 도입

- HTML 하드코딩을 멈추고 **Markdown to HTML (SSG)** 파이프라인을 구축하십시오. 린트 에러와 경로 문제에서 해방될 유일한 길입니다.

---

**결론**: 지금은 "OS"가 아닙니다. 정리되지 않은 "작업장"입니다.

이상.
